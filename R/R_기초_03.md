<br>

#### 03. R 기초 - 데이터 핸들링

<br>

# 데이터 핸들링

데이터 핸들링 파트에서는 데이터를 불러오고 불러온 데이터를 올바르게 정제하는 법에 대해 정리하겠다. 


<br>

## 1. 데이터 정제를 위한 문법 


<br>

### 1) 조건문(if) 

<br>

조건문은 주어진 값에 조건을 지정하고 조건의 여부에 따라 액션을 취한다. 

조건문에는 3가지 종류가 있다. 

<br>

1. 한가지 조건일떄 : `if else`

    ```R
    if(조건){
        조건이 참일때 실행 # 표현식
    } else {
        조건이 거짓일때 실행 # 표현식
    }
    ```

<br>

2. 두개 이상의 조건일떄 : `else if`

    여러가지 조건을 지정 할 수 있다.

    ```R
    if(조건1){
        조건1이 참일때 실행 # 표현식
    } else if {
        조건2이 참일때 실행 # 표현식
    }else{
        모든 조건이 거짓일때 실행 # 표현식
    }
    ```

<br>

3. 조건을 한 문장으로 표현하고자 할 때 : `ifelse`

    조건문을 한줄로 구현가능하다.   
    위 두가지의 조건문과 달리 `ifelse`의 장점은 유일하게 벡터연산이 가능하다. 
    단점은 리턴값만 반환하기 때문에 출력만 가능하다는 점이다. 

    ```R
    ifelse(조건, 참일때, 거짓일때)
    ```
    [참조-ifelse](https://data-make.tistory.com/43)

<br>

### 2) 반복문


1. for문 

    ```R
    for(반복변수 in 횟수){
        반복을 수행할 표현식
    }
    ```
<br>

2. while문 

    while문 같은 경우 특정시작값과 특정시작값을 증가시키는 증가식이 필요하다.

    for문과는 다르게 특정조건을 만족하지 못하면 무한루프에 빠질 수 있다. 

    ```R
    var <- 특정시각값
    while(조건){
        조건이 참일 때 수행할 표현식
        증가식
    }
    ```
<br>

3. repeat문 

    repeat문 while문과 유사하다. 다만 repeat안에 조건문이 들어간다는 점이 다르며 break문을 만날때까지 계속 실행된다.

    ```R
    var <- 특정시각값
    repeat{
        반복을 수행할 표현식 
        조건문-> 참-> break문
    }
    ```


<br><br>

## 2. 데이터 

<br>

### 1) 파일 읽고 쓰기 

<br>

대부분의 데이터는 파일 형태로 존재한다. 

1. `read.table()` 

    - 일반 텍스트 파일을 읽을 때 사용한다. 
    - sep 옵션 : 구분자 지정 (`sep="\t"`, `sep=","`,`sep=";"`)
    - header 옵션 : 첫줄 열 인식 여부(`header=T`)

2. `data.table()` 

     - 큰 데이터를 정제할때 아주 유용하다.
     - 빠른속도를 자랑한다.
     - data.table의 형식 :  [행, 표현식, 옵션]

3. `read.csv()` 
    - csv 파일을 읽을 때 사용한다.


<br>

### 2) 결측값 처리 

<br>

수집한 데이터들은 대부분 결측값이 존재한다.    
**결측값**이란 실수에 의한 값 혹은 누락된 값을 말하며 결측값이 존재하는 상태로 데이터 가공을 하면 잘못된 데이터를 가공하게 된다.    
그렇기 때문에 정제하는 과정에서 적절한 데이터 처리가 필요하다.   

<br>

#### 결측값 처리 

1. `is.na()` : NA인 데이터 존재 시 T, 없으면 F 
2. `na.omit()` : NA인 데이터를 제거한다. -> NA가 포함된 행을 모두 지운다. 
3. 함수의 속성 `na.rm=T` 를 이용하여 결측값을 제거한다. 

    ```R
    # 함수 속성인 na.rm을 이용해 결측값 처리
    mean(airquality$Ozone, na.rm = T)
    ```

<br>

### 3) 이상치(Outlier) 처리 

<br>

이상치이란 **'패턴에서 벗어난 값 혹은 동떨어진 값'** 이다. <br>
또한 이상치는 평균뿐 아니라 표준편차에 큰 영향을 주기 때문에 데이터의 신뢰도를 떨어 트린다. <br>  이상치를 처리하는것은 정말 중요하며 데이터분석과정 중 가장 많은 시간이 들어간다. 

<br>

```r

```

<br>


## 2. 데이터 정제를 위한 조건문과 반복문


<br>

```r

```


<br>



### 사용자 정의 함수


<br>

```r

```

<br>


### 데이터 정제 예제 : 결측값 처리 

<br>

```r

```

<br>



### 데이터 정제 예제 : 이상값 처리 


<br>

```r

```

<br>



## 3.

<br>

```py

```

<br>



## 4.

<br>

```py

```

<br>





<br>

---

<br>

## Reference <br>

<!-- - 파이썬 코딩도장 &nbsp; : &nbsp;<https://dojang.io/> <br> -->
- 황군'story_`data.table()` &nbsp; : &nbsp;<https://using.tistory.com/81> <br>
