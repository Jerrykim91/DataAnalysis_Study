<br>

#### 02. R 기초 - 데이터형과 연산 

<br>

# 데이터형과 연산 

<br>

## 1. 변수

<br>

- 데이터 저장공간 
- `=, <-, ->` 을 이용해 값을 대입한다.

```R
x <- 1 # 변수에 1을 할당

x <- x + 1 # 변수를 일정한 값만큼 증가
```

<br>

### 1) 변수이름의 규칙 *

1. 대소문자의 구분이 가능하다.
2. 특수문자는 **불가능**하다. 
3. 밑줄이나 마침표 기호는 **가능**하다.
4. 변수이름의 **첫글자로 숫자나 밑줄은 불가능**하다. 
5. for, if 같은 **예약어**로 변수의 이름을 짓는것 역시 불가능하다.  

<br>

```R
### 변수 이름 명명 규칙중 하나이다. 에러가 발생하지 않도록 수정해라!

_UnderbarUseIt <- 10 
_UnderbarUseIt

# 수정안 
Underbar_Use_It <- 10 
Underbar_Use_It

3NumberUseIt <- 10 
3NumberUseIt

# 수정안 
Number0Use0It <- 10 
Number0Use0It

for <- 10
for 

# 수정안 
UseFor <- 10
UseFor 
```

<br><br>


## 2. 데이터 형

<br>

### 1) 기본 데이터형

- 데이터형을 지정하지 않고, 변수에 어떤값을 지정하느냐에 따라 데이터형이 결정
- 숫자형 , 문자형, 범주형, 논리형, 특수상수 등 ..

<br>

|데이터형|종류|
|:--:|:--|
|숫자형 | 정수 , 실수, 복소수 |
|문자형 | 작은 따옴표나 큰따옴표로 묶어서 표기 |
|범주형 | `factor` : 레벨(level)에 따라 분류된 형태 |
|논리형 | `True`(T), `False`(F) |
|특수상수| `NULL` : 정의되지 않은 값, `NA` : 결측값 |
|| `lnf`(음의무한대) / `lnf`(양의무한대), `NaN `: `0/0`, `lnf/lnf`등과 같이 연산 불가능한 값 표시 | <br>

<br>

- 특수 상수는 올바르게 구분을 하는것이 중요하다. 

<br>

### 2) 데이터형 확인 함수 

<br>

|함수(func)|설명|
|:--:|:--|
|class(x)| R 객체지향 관점에서 x의 데이터형|
|typeof(x)| R 언어 관점에서 x의 데이터형 |
|is.integer(x) | x 가 **정수형**이면 `True` , 아니면 `False` |
|is.numeric(x) | x 가 **실수형**이면 `True` , 아니면 `False` |
|is.complex(x) | x 가 **복소수형**이면 `True` , 아니면 `False`|
|is.character(x) | x 가 **문자형**이면 `True` , 아니면 `False` |
|is.na(x) | x 가 **NA**이면 `True` , 아니면 `False`|

<br>

```R
x <- 1
is.integer(x) # numeric # 정수취급이 안된다.
# is.numeric(x) 

### 데이터 형 변환을 해보자 
x <- as.integer(x) # 데이터 형변환 
x
is.integer(x)

x <- 1.8L
is.integer(x)  # 에러발생 : integer literal 1.8L contains decimal; using numeric value

x <- 1L # x에 1L을 입력한 경우 x는 정수형 ,  x에 단순히 1을 넣은 경우 x는 숫자형
is.integer(x) # integer

a <- "Hello world!"
is.character(a)

### 데이터형 변환을 해보자 
# as.factor(a)[c(1)]

b <- 3.14i
is.complex(b) # 복소수형(complex) : 실수 + 허수

n <- NA
is.na(n)
```

<br>

### 3) 데이터형 변환 함수 

<br>

|함수(func)|설명|
|:--:|:--:|
|as.factor(x)  | x 가 **범주형**으로 변환 |
|as.integer(x) | x 가 **정수형**으로 변환 |
|as.numeric(x) | x 가 **숫자형**으로 변환 |
|as.character(x)| x 가 **문자형**으로 변환|
|as.matrix(x)   | x 가 **행렬**로 변환  |
|as.array(x)    | x 가 **배열**로 변환  |  

<br>

```R
# x에 1을 as.integer 함수로 변환하여 입력한 경우 x는 정수형
x <- as.integer(1) 	 
x
is.integer(x)
```

<br><br>

## 3. 연산자 

<br>

### 1) 산술연산자

<br>

|연산자|설명|예|
|:--:|:--|:--|
|`+`          | 덧셈   |`3+2`|
|`-`          | 뺄셈   |`3-2`|
|`*`          | 곱셈   |`3*2`|
|`/`          | 나눗셈 |`3/2`|
|`^` 또는 `**`| 지수승 |`3^2`|
|`x%%y`       | 나머지 |`3%%2`|
|`x%/%y`      | 나눈몫 |`3%/%2`|

<br>

### 2) 비교, 논리연산자

<br>

|연산자|설명|예|
|:--:|:--|:--|
|`+`          | 덧셈   |`5<5`|
|`-`          | 뺄셈   |`5<=5`|
|`*`          | 곱셈   |`5>5`|
|`/`          | 나눗셈 |`5>=5`|
|`^` 또는 `**`| 지수승 |`5==5`|
|`x%%y`       | 나머지 |`5!=5`|
|`x%/%y`      | 나눈몫 |`!TRUE`|
|`x%/%y`      | 나눈몫 |`TRUE | FALSE`|
|`x%/%y`      | 나눈몫 |`TRUE & FALSE`|
|`x%/%y`      | 나눈몫 |`isTRUE(TRUE)`|

<br>

### 3) 연산자 우선 순위 

---
<br>

1. 지수승이 가장 높다.
2. 단항의 플러스마이너스
3. `%%`,`%/%` 연산자
4. 곱셈, 나눗셈
5. 덧셈, 뺄셈
6. 비교연산자
7. 논리 부전
8. 논리 and (`&`, `&&`)
9. 논리 or (`|`, `||`)

<br>

---

<br><br>


## 4. R 데이터의 구조 

<br>

![데이터의 구조](https://img1.daumcdn.net/thumb/R720x0.q80/?scode=mtistory2&fname=http%3A%2F%2Fcfile9.uf.tistory.com%2Fimage%2F99FA7D415C8F53C70B678A)

<br>

### 1) 스칼라(Scala)

<br>

구성인자가 하나인 벡터로 벡터의 길이가 1인 것을 말한다.

```R
# 스칼라(Scala) : 구성인자가 하나인 벡터
>>> s_num <- c(1)
>>> s_name <- c("Kim") 
```
<br>

### 2) 벡터(Vector)

<br>

벡터는 R에서 사용하는 가장 기본적인 데이터 구조의 형태로 하나의 **단일 값들의 집합**으로 이루어진 1차원 배열이다. 쉽게 말하면 동일한 자료형(문자, 숫자)의 집합 형태이다. 
벡터는 `c()`를 이용해서 만들 수 있다. 

<br>

#### 단일값들의 집합 

- `:`와 `c(원소1, 원소2, 원소3,....)`를 이용하여 주어진 인수로 벡터를 생성가능하다. 
- `seq()`을 이용하면 순차적으로 벡터를 이용가능하다. 
- `rep()` 은 반복적이 벡터를 생성 가능하다. 

```R
# 0~10까지 2씩 증가하는 코드 
seq(from=0, to=10, by=2) 
seq(0, 10, 2) 

# 벡터 단위 반복
rep(c(1:10), times = 2)

# 개별 반복 
rep(c(1:10), each = 2)
```
<br>

#### 원소 중 문자가 하나라도 있을 경우엔 문자 벡터가 된다.

<br>

```R
# 예
Box <- c(1,2,"apple","banana")  # 백터 생성
Box 
>>> [1] "1" "2" "apple" "banana"  # 모두 문자열이 된다. 
```

<br>

### 3) 행렬(Matrix)

<br>

벡터는 원소들의 집합이 단일 배열이었다면 행렬은 행과 열로 만들어진 2차원 배열이다.     
행렬은 벡터와 마찬가지로 모든 행과 열의 데이터형이 동일해야 한다. 만약 조건에 부합하지 않다면 행렬이라고 할 수 없다. 

- 행렬 : `matrix(벡터, ncol=열(컬럼)의 개수, nrow=행(로우)의 개수)`

```R
> # 열(컬럼)의 수가 4인 행렬 
> matrix(Box, ncol = 4)
>>>       [,1] [,2] [,3] [,4]
>>> [1,]   "1" "2" "apple" "banana"

# 행(로우)의 수가 4인 행렬 
> matrix(Box, nrow  = 4)
>>>       [,1] 
>>> [1,]   "1" 
>>> [2,]   "2" 
>>> [3,]   "apple"
>>> [4,]   "banana"
```

- `arrary()`를 이용해서도 n차원 배열 생성 가능하다. 

```R
> # 열(컬럼)의 수가 4인 행렬 
> matrix(Box, ncol = 4)
>>>       [,1] [,2] [,3] [,4]
>>> [1,]   "1" "2" "apple" "banana"

# 행(로우)의 수가 4인 행렬 
> matrix(Box, nrow  = 4)
>>>       [,1] 
>>> [1,]   "1" 
>>> [2,]   "2" 
>>> [3,]   "apple"
>>> [4,]   "banana"
```

<br>

### 4) 데이터프레임(Dataframe)

<br>

데이터프레임은 행렬과는 다르게 **데이터 타입에 상관없이** 2차원 형태의 데이터 구조를 가진다. 다만 각 열의 데이터 타입은 동일해야 한다. 
R에서 가장 많이 사용되며 `data.frame()`를 이용하여 생성 가능하다. 

- `$`, `[,]` 은 데이터 프레임 요소에 접근 가능
- 데이터프레임에 유용한 함수 : `attach()`, `detach()`, `subset()`   

    >`attach(a)` : a(a는 데이터프레임)를 변수로 만든다. -> 조금 이해하기 힘들수도 있다.     
    >`detach(a)` : a(a는 데이터프레임)를 데이터프레임으로 돌려놓는다.    
    >`subset()` : 일부데이터를 추출한다. 

[실습]()

- `attach(a)`에 대해서는 아직 이해하는 단계지만 다들 다르게 해석해서 개인적으로 이 함수는 데이터프레임 상태에서 권한을 뺏는다고 이해를 하고 있다. 그래서 데이터프레임에서 특정 요소 접근 하려는 `$`을 사용하지 않고도 호출 가능하다는 점?? 그래서 속성을 변수로 바꾼다고 표현하였다. 


<br>

### 5) 리스트(List)

<br>

벡터와 유사한 구조이지만 각 열이 서로 다른 데이터형을 가질 수 있다. 벡터와 차이는 자료형의 복합성이다. 벡터는 단일형구조만 가능하다. 

그리고 표의형태의 구조. 각 속성의 크기가 달라도 된다.  


<br>

<br>

---

<br>

## Reference <br>

<!-- - 파이썬 코딩도장 &nbsp; : &nbsp;<https://dojang.io/> <br> -->
- 이미지 출처 &nbsp; : &nbsp;<https://ryuhyun.tistory.com/14> <br>

